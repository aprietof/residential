
function wpestate_load_stats_tabs(a){var b=ajaxcalls_vars.admin_url+"admin-ajax.php";jQuery.ajax({type:"POST",url:b,dataType:"json",data:{action:"wpestate_load_stats_property",postid:a},success:function(c){wpestate_show_prop_stat_graph_tab(c.array_values,c.labels,a)},error:function(c){}})}function wpestate_show_prop_stat_graph_tab(d,h,f){var b=jQuery("#myChart").get(0).getContext("2d");var c=new Chart(b);var g={labels:h,datasets:[{label:"My First dataset",fillColor:"rgba(220,220,220,0.5)",strokeColor:"rgba(220,220,220,0.8)",highlightFill:"rgba(220,220,220,0.75)",highlightStroke:"rgba(220,220,220,1)",data:d},]};var e={scaleBeginAtZero:true,scaleShowGridLines:true,scaleGridLineColor:"rgba(0,0,0,.05)",scaleGridLineWidth:1,scaleShowHorizontalLines:true,scaleShowVerticalLines:true,barShowStroke:true,barStrokeWidth:2,barValueSpacing:5,barDatasetSpacing:1,legendTemplate:'<ul class="<%=name.toLowerCase()%>-legend"><% for (var i=0; i<datasets.length; i++){%><li><span style="background-color:<%=datasets[i].fillColor%>"></span><%if(datasets[i].label){%><%=datasets[i].label%><%}%></li><%}%></ul>'};var a=new Chart(b).Bar(g,e)}function wpestate_load_stats(a){var b=ajaxcalls_vars.admin_url+"admin-ajax.php";jQuery.ajax({type:"POST",url:b,dataType:"json",data:{action:"wpestate_load_stats_property",postid:a},success:function(c){wpestate_show_prop_stat_graph(c.array_values,c.labels,a)},error:function(c){}})}function wpestate_show_prop_stat_graph(d,h,f){var b=jQuery("#myChart_"+f).get(0).getContext("2d");var c=new Chart(b);var g={labels:h,datasets:[{label:"My First dataset",fillColor:"rgba(220,220,220,0.5)",strokeColor:"rgba(220,220,220,0.8)",highlightFill:"rgba(220,220,220,0.75)",highlightStroke:"rgba(220,220,220,1)",data:d},]};var e={scaleBeginAtZero:true,scaleShowGridLines:true,scaleGridLineColor:"rgba(0,0,0,.05)",scaleGridLineWidth:1,scaleShowHorizontalLines:true,scaleShowVerticalLines:true,barShowStroke:true,barStrokeWidth:2,barValueSpacing:5,barDatasetSpacing:1,legendTemplate:'<ul class="<%=name.toLowerCase()%>-legend"><% for (var i=0; i<datasets.length; i++){%><li><span style="background-color:<%=datasets[i].fillColor%>"></span><%if(datasets[i].label){%><%=datasets[i].label%><%}%></li><%}%></ul>'};var a=new Chart(b).Bar(g,e)}function get_filtering_ajax_result(){var f,b,g,c,e,d,j,i,h,a;f=jQuery("#adv_actions").attr("data-value");b=jQuery("#adv_categ").attr("data-value");g=jQuery("#advanced_city").attr("data-value");c=jQuery("#advanced_area").attr("data-value");e=parseInt(jQuery("#adv_rooms").val(),10);d=parseInt(jQuery("#adv_bath").val(),10);j=parseInt(jQuery("#price_low").val(),10);i=parseInt(jQuery("#price_max").val(),10);a=parseInt(jQuery("#adv-search-1").attr("data-postid"),10);h=ajaxcalls_vars.admin_url+"admin-ajax.php";jQuery.ajax({type:"POST",url:h,data:{action:"get_filtering_ajax_result",action_values:f,category_values:b,city:g,area:c,advanced_rooms:e,advanced_bath:d,price_low:j,price_max:i,postid:a},success:function(k){jQuery("#results, #showinpage,#showinpage_mobile").show();jQuery("#results_no").show().empty().append(k)},error:function(k){}})}function custom_get_filtering_ajax_result(){return}function start_filtering_ajax(m){var g,b,h,c,f,d,l,k,i,a,e,j;g=jQuery("#adv_actions").attr("data-value");b=jQuery("#adv_categ").attr("data-value");h=jQuery("#advanced_city").attr("data-value");c=jQuery("#advanced_area").attr("data-value");f=parseFloat(jQuery("#adv_rooms").val(),10);d=parseFloat(jQuery("#adv_bath").val(),10);l=parseFloat(jQuery("#price_low").val(),10);k=parseFloat(jQuery("#price_max").val(),10);a=parseFloat(jQuery("#adv-search-1").attr("data-postid"),10);i=ajaxcalls_vars.admin_url+"admin-ajax.php";e=0;if(jQuery("#google_map_prop_list_sidebar").length){e=1}a=1;if(document.getElementById("search_wrapper")){a=parseInt(jQuery("#search_wrapper").attr("data-postid"),10)}j="";jQuery('.extended_search_check_wrapper  input[type="checkbox"]').each(function(){if(jQuery(this).is(":checked")){j=j+","+jQuery(this).attr("name")}});e=0;if(jQuery("#google_map_prop_list_sidebar").length){e=1}jQuery("#listing_ajax_container").empty();jQuery("#listing_loader").show();jQuery.ajax({type:"POST",url:i,data:{action:"wpestate_ajax_filter_listings_search",action_values:g,category_values:b,city:h,area:c,advanced_rooms:f,advanced_bath:d,price_low:l,price_max:k,newpage:m,postid:a,halfmap:e,all_checkers:j},success:function(n){jQuery("#listing_loader").hide();jQuery(".listing_loader_title").show();jQuery(".pagination_nojax").hide();jQuery("#listing_ajax_container").empty().append(n);restart_js_after_ajax()},error:function(n){}})}function typeof_value(b,a){if(typeof(b)!=="undefined"){if(!jQuery("#"+a).hasClass("filter_menu_trigger")){if(a!=="adv_categ"&&a!=="adv_actions"&&a!=="advanced_city"&&a!=="advanced_area"&&a!=="county-state"&&a!=="property-country"){b=b}else{b=b.replace("-"," ")}}}else{b=""}return b}function custom_search_start_filtering_ajax(p){var c,l,o,m,d,j,b,a,g,e,k,f;l=parseInt(mapfunctions_vars.fields_no,10);d=[];m=[];o=[];m=mapfunctions_vars.slugs;o=mapfunctions_vars.hows;if(mapfunctions_vars.slider_price==="yes"){a=jQuery("#price_low").val();g=jQuery("#price_max").val()}if((mapfunctions_vars.adv_search_type==="6"||mapfunctions_vars.adv_search_type==="7")&&!jQuery(".halfsearch")[0]){f=jQuery(".tab-pane.active .term_id_class").val();if(mapfunctions_vars.slider_price==="yes"){a=jQuery("#price_low_"+f).val();g=jQuery("#price_max_"+f).val()}for(var h=0;h<l;h++){if(o[h]=="date bigger"||o[h]=="date smaller"){c=get_custom_value_tab_search(f+m[h])}else{c=get_custom_value_tab_search(m[h])}if(typeof(c)==="undefined"){c=""}d.push(c)}}else{for(var h=0;h<l;h++){c=get_custom_value(m[h]);if(typeof(c)==="undefined"){c=""}d.push(c)}}if((mapfunctions_vars.adv_search_type==="6"||mapfunctions_vars.adv_search_type==="7"||mapfunctions_vars.adv_search_type==="8"||mapfunctions_vars.adv_search_type==="9")){var n=jQuery(".adv_search_tab_item.active").attr("data-tax");if(jQuery(".halfsearch")[0]){n=jQuery(".halfsearch").attr("data-tax")}if(n==="property_category"){m[l]="adv_categ"}else{if(n==="property_action_category"){m[l]="adv_actions"}else{if(n==="property_city"){m[l]="advanced_city"}else{if(n==="property_area"){m[l]="advanced_area"}else{if(n==="property_county_state"){m[l]="county-state"}}}}}o[l]="like";if(jQuery(".halfsearch")[0]){d[l]=jQuery("#"+m[l]).parent().find("input:hidden").val()}else{d[l]=jQuery(".adv_search_tab_item.active").attr("data-term")}}k="";jQuery('.extended_search_check_wrapper  input[type="checkbox"]').each(function(){if(jQuery(this).is(":checked")){k=k+","+jQuery(this).attr("name")}});e=0;if(jQuery("#google_map_prop_list_sidebar").length){e=1}b=1;if(document.getElementById("search_wrapper")){b=parseInt(jQuery("#search_wrapper").attr("data-postid"),10)}j=ajaxcalls_vars.admin_url+"admin-ajax.php";jQuery("#listing_ajax_container").empty();jQuery("#listing_loader").show();jQuery.ajax({type:"POST",url:j,data:{action:"wpestate_custom_adv_ajax_filter_listings_search",val_holder:d,newpage:p,postid:b,slider_min:a,slider_max:g,halfmap:e,all_checkers:k},success:function(i){jQuery("#listing_loader").hide();jQuery(".listing_loader_title").show();jQuery(".entry-title.title_prop").hide();jQuery("#listing_ajax_container").empty().append(i);restart_js_after_ajax()},error:function(i){}})}function restart_js_after_ajax(){wpestate_lazy_load_carousel_property_unit();if(typeof enable_half_map_pin_action=="function"){enable_half_map_pin_action()}var e,b,d,a,c;jQuery(".prop-compare:first-of-type").remove();jQuery(".pagination_ajax_search a").click(function(g){g.preventDefault();e=parseInt(jQuery(this).attr("data-future"),10);document.getElementById("scrollhere").scrollIntoView();if(mapfunctions_vars.custom_search==="yes"){custom_search_start_filtering_ajax(e)}else{start_filtering_ajax(e)}});jQuery(".pagination_ajax a").click(function(g){g.preventDefault();e=parseInt(jQuery(this).attr("data-future"),10);document.getElementById("scrollhere").scrollIntoView();start_filtering(e)});jQuery(".property_listing").click(function(){var g;g=jQuery(this).attr("data-link");window.open(g,"_self")});jQuery(".share_unit").click(function(g){g.stopPropagation()});var f=[];jQuery(".compare-action").unbind("click");jQuery(".compare-action").click(function(h){h.preventDefault();h.stopPropagation();jQuery(".prop-compare").show();b=jQuery(this).attr("data-pid");for(var g=0;g<f.length;g++){if(f[g]===b){return}}f.push(b);d=jQuery(this).attr("data-pimage");a='<div class="items_compare ajax_compare" style="display:none;"><img src="'+d+'" alt="compare_thumb" class="img-responsive"><input type="hidden" value="'+b+'" name="selected_id[]" /></div>';jQuery("div.items_compare:first-child").css("background","red");if(parseInt(jQuery(".items_compare").length,10)>3){jQuery(".items_compare:first").remove()}jQuery("#submit_compare").before(a);jQuery(".items_compare").fadeIn(800)});jQuery("#submit_compare").unbind("click");jQuery("#submit_compare").click(function(){jQuery("#form_compare").trigger("submit")});jQuery(".icon-fav").click(function(g){g.stopPropagation();c=jQuery(this);add_remove_favorite(c)});jQuery(".share_list, .icon-fav, .compare-action").hover(function(){jQuery(this).tooltip("show")},function(){jQuery(this).tooltip("hide")});jQuery(".share_list").click(function(g){g.stopPropagation();var h=jQuery(this).parent().find(".share_unit");h.toggle();jQuery(this).toggleClass("share_on")});setTimeout(function(){jQuery(".property_listing").matchHeight()},1000)}function add_remove_favorite(c){var b,a,d;b=c.attr("data-postid");a=jQuery("#security-pass").val();d=ajaxcalls_vars.admin_url+"admin-ajax.php";if(parseInt(ajaxcalls_vars.userid,10)===0){show_login_form()}else{c.toggleClass("icon-fav-off");c.toggleClass("icon-fav-on");jQuery.ajax({type:"POST",url:d,dataType:"json",data:{action:"wpestate_ajax_add_fav",post_id:b},success:function(e){if(e.added){c.removeClass("icon-fav-off").addClass("icon-fav-on")}else{c.removeClass("icon-fav-on").addClass("icon-fav-off")}},error:function(e){}})}}function resend_for_approval(d,a){var c,b;c=control_vars.admin_url+"admin-ajax.php";jQuery.ajax({type:"POST",url:c,data:{action:"wpestate_ajax_resend_for_approval",propid:d},success:function(e){if(e==="pending"){a.parent().empty().append('<span class="featured_prop">Sent for approval</span>');b=parseInt(jQuery("#normal_list_no").text(),10);jQuery("#normal_list_no").text(b-1)}else{a.parent().empty().append(e)}},error:function(e){}})}function make_prop_featured(c,a){var b=ajaxcalls_vars.admin_url+"admin-ajax.php";jQuery.ajax({type:"POST",url:b,data:{action:"wpestate_ajax_make_prop_featured",propid:c},success:function(e){if(e.trim()==="done"){a.empty().html('<span class="label label-success">'+ajaxcalls_vars.prop_featured+"</span>");var d=parseInt(jQuery("#featured_list_no").text(),10);jQuery("#featured_list_no").text(d-1)}else{a.empty().removeClass("make_featured").addClass("featured_exp").text(ajaxcalls_vars.no_prop_featured)}},error:function(d){}})}function recuring_pay_pack_via_paypal(){var c,b,a;c=control_vars.admin_url+"admin-ajax.php";b=jQuery("#pack_select :selected").text();a=jQuery("#pack_select :selected").val();jQuery.ajax({type:"POST",url:c,data:{action:"wpestate_ajax_paypal_pack_recuring_generation",packName:b,packId:a},success:function(d){window.location.href=d},error:function(d){}})}function pay_pack_via_paypal(){var c,b,a;c=control_vars.admin_url+"admin-ajax.php";b=jQuery("#pack_select :selected").text();a=jQuery("#pack_select :selected").val();jQuery.ajax({type:"POST",url:c,data:{action:"wpestate_ajax_paypal_pack_generation",packName:b,packId:a},success:function(d){window.location.href=d},error:function(d){}})}function listing_pay(e,c,b,a){var d=control_vars.admin_url+"admin-ajax.php";jQuery.ajax({type:"POST",url:d,data:{action:"wpestate_ajax_listing_pay",propid:e,is_featured:b,is_upgrade:a},success:function(f){window.location.href=f},error:function(f){}})}function start_filtering(f){jQuery("#gmap-loading").show();jQuery("#grid_view").addClass("icon_selected");jQuery("#list_view").removeClass("icon_selected");var e,d,g,c,a,h,b;e=jQuery("#a_filter_action").attr("data-value");d=jQuery("#a_filter_categ").attr("data-value");g=jQuery("#a_filter_cities").attr("data-value");c=jQuery("#a_filter_areas").attr("data-value");a=jQuery("#a_filter_order").attr("data-value");h=ajaxcalls_vars.admin_url+"admin-ajax.php";b=jQuery("#page_idx").val();jQuery("#listing_ajax_container").empty();jQuery("#listing_loader").show();jQuery.ajax({type:"POST",url:h,dataType:"json",data:{action:"ajax_filter_listings",action_values:e,category_values:d,city:g,area:c,order:a,newpage:f,page_id:b},success:function(j){jQuery("#listing_loader").hide();jQuery("#listing_ajax_container").empty().append(j.to_show);jQuery(".pagination_nojax").hide();restart_js_after_ajax();var i=parseInt(j.no_results);if(i!==0){wpestate_load_on_demand_pins(j.markers,i,0)}else{wpestate_show_no_results()}jQuery(".col-md-12.listing_wrapper .property_unit_custom_element.image").each(function(){jQuery(this).parent().addClass("wrap_custom_image")});jQuery("#gmap-loading").hide()},error:function(i){}})}function show_login_form(){var a=ajaxcalls_vars.admin_url+"admin-ajax.php";jQuery.ajax({type:"POST",url:a,data:{action:"wpestate_ajax_show_login_form"},success:function(b){jQuery("body").append(b);jQuery("#loginmodal").modal();enable_actions_modal()},error:function(b){}})}function wpestate_change_pass_profile(){var b,d,c,a,e;b=jQuery("#oldpass").val();d=jQuery("#newpass").val();c=jQuery("#renewpass").val();a=jQuery("#security-pass").val();e=ajaxcalls_vars.admin_url+"admin-ajax.php";jQuery.ajax({type:"POST",url:e,data:{action:"wpestate_ajax_update_pass",oldpass:b,newpass:d,renewpass:c,"security-pass":a},success:function(f){jQuery("#profile_pass").empty().append('<div class="login-alert">'+f+"<div>");jQuery("#oldpass, #newpass, #renewpass").val("")},error:function(f){}})}function wpestate_register_user(d){var g,f,b,a,e,c,h;g="";h=ajaxcalls_vars.admin_url+"admin-ajax.php";jQuery("#register_message_area_topbar").empty().append('<div class="login-alert">'+control_vars.procesing+"</div>");if(d===1){if(control_vars.usecaptcha==="yes"){g=grecaptcha.getResponse(widgetId1)}f=jQuery("#user_login_register_topbar").val();b=jQuery("#user_email_register_topbar").val();c=jQuery("#security-register-topbar").val();if(ajaxcalls_vars.userpass==="yes"){a=jQuery("#user_password_topbar").val();e=jQuery("#user_password_topbar_retype").val()}if(!jQuery("#user_terms_register_topbar").is(":checked")){jQuery("#register_message_area_topbar").empty().append('<div class="login-alert">'+control_vars.terms_cond+"</div>");return}}else{if(d===2){if(control_vars.usecaptcha==="yes"){g=grecaptcha.getResponse(widgetId3)}f=jQuery("#user_login_register_wd").val();b=jQuery("#user_email_register_wd").val();c=jQuery("#security-register").val();if(ajaxcalls_vars.userpass==="yes"){a=jQuery("#user_password_wd").val();e=jQuery("#user_password_wd_retype").val()}if(!jQuery("#user_terms_register_wd").is(":checked")){jQuery("#register_message_area_wd").empty().append('<div class="login-alert">'+control_vars.terms_cond+"</div>");return}}else{if(d===3){if(control_vars.usecaptcha==="yes"){g=grecaptcha.getResponse(widgetId4)}f=jQuery("#user_login_register").val();b=jQuery("#user_email_register").val();c=jQuery("#security-register").val();if(ajaxcalls_vars.userpass==="yes"){a=jQuery("#user_password").val();e=jQuery("#user_password_retype").val()}if(!jQuery("#user_terms_register_sh").is(":checked")){jQuery("#register_message_area").empty().append('<div class="login-alert">'+control_vars.terms_cond+"</div>");return}}else{if(d===5){if(control_vars.usecaptcha==="yes"){g=grecaptcha.getResponse(widgetId2)}f=jQuery("#user_login_register_mobile").val();b=jQuery("#user_email_register_mobile").val();c=jQuery("#security-register-mobile").val();if(ajaxcalls_vars.userpass==="yes"){a=jQuery("#user_password_mobile").val();e=jQuery("#user_password_mobile_retype").val()}if(!jQuery("#user_terms_register_mobile").is(":checked")){jQuery("#register_message_area_mobile").empty().append('<div class="login-alert">'+control_vars.terms_cond+"</div>");return}}}}}jQuery.ajax({type:"POST",url:h,data:{action:"wpestate_ajax_register_user",user_login_register:f,user_email_register:b,user_pass:a,user_pass_retype:e,type:d,"security-register":c,capthca:g},success:function(i){if(d===1){jQuery("#register_message_area_topbar").empty().append('<div class="login-alert">'+i+"</div>");jQuery("#user_login_register_topbar").val("");jQuery("#user_email_register_topbar").val("");jQuery("#user_password_topbar").val("");jQuery("#user_password_topbar_retype").val("")}else{if(d===2){jQuery("#register_message_area_wd").empty().append('<div class="login-alert">'+i+"</div>");jQuery("#user_login_register_wd").val("");jQuery("#user_email_register_wd").val("");jQuery("#user_password_wd").val("");jQuery("#user_password_wd_retype").val("")}else{if(d===3){jQuery("#register_message_area").empty().append('<div class="login-alert">'+i+"</div>");jQuery("#user_login_register").val("");jQuery("#user_email_register").val("");jQuery("#user_password").val("");jQuery("#user_password_retype").val("")}else{if(d===5){jQuery("#register_message_area_mobile").empty().append('<div class="login-alert">'+i+"</div>");jQuery("#user_login_register_mobile").val("");jQuery("#user_email_register_mobile").val("");jQuery("#user_password_mobile").val("");jQuery("#user_password_mobile_retype").val("")}}}}},error:function(i){}})}function wpestate_forgot(a){var b,c,e,d;if(a===1){b=jQuery("#forgot_email").val();c=jQuery("#security-forgot").val()}if(a===2){b=jQuery("#forgot_email_topbar").val();c=jQuery("#security-forgot-topbar").val()}if(a===3){b=jQuery("#forgot_email_shortcode").val();c=jQuery("#security-login-forgot_wd").val()}if(a===5){b=jQuery("#forgot_email_mobile").val();c=jQuery("#security-forgot-mobile").val()}e=jQuery("#postid").val();d=ajaxcalls_vars.admin_url+"admin-ajax.php";jQuery.ajax({type:"POST",url:d,data:{action:"wpestate_ajax_forgot_pass",forgot_email:b,"security-forgot":c,postid:e,type:a},success:function(f){if(a===1){jQuery("#forgot_email").val("");jQuery("#forgot_pass_area").empty().append('<div class="login-alert">'+f+"<div>")}if(a===2){jQuery("#forgot_email_topbar").val("");jQuery("#forgot_pass_area_topbar").empty().append('<div class="login-alert">'+f+"<div>")}if(a===3){jQuery("#forgot_email_shortcode").val("");jQuery("#forgot_pass_area_shortcode").empty().append('<div class="login-alert">'+f+"<div>")}if(a===5){jQuery("#forgot_email_mobile").val("");jQuery("#forgot_pass_area_mobile").empty().append('<div class="login-alert">'+f+"<div>")}},error:function(f){}})}function wpestate_login_wd(){var d,b,a,e,c;d=jQuery("#login_user_wd").val();b=jQuery("#login_pwd_wd").val();c=jQuery("#security-login").val();a=jQuery("#loginpop_wd").val();e=ajaxcalls_vars.admin_url+"admin-ajax.php";jQuery("#login_message_area_wd").empty().append('<div class="login-alert">'+ajaxcalls_vars.login_loading+"</div>");jQuery.ajax({type:"POST",dataType:"json",url:e,data:{action:"ajax_loginx_form",login_user:d,login_pwd:b,ispop:a,"security-login":c},success:function(f){jQuery("#login_message_area_wd").empty().append('<div class="login-alert">'+f.message+"<div>");if(f.loggedin===true){if(parseInt(f.ispop,10)===1){ajaxcalls_vars.userid=f.newuser;jQuery("#ajax_login_container").remove()}else{document.location.href=ajaxcalls_vars.login_redirect}jQuery("#user_not_logged_in").hide();jQuery("#user_logged_in").show()}else{jQuery("#login_user").val("");jQuery("#login_pwd").val("")}},error:function(f){}})}function wpestate_login_topbar(){var d,b,a,e,c;d=jQuery("#login_user_topbar").val();b=jQuery("#login_pwd_topbar").val();c=jQuery("#security-login-topbar").val();e=ajaxcalls_vars.admin_url+"admin-ajax.php";jQuery("#login_message_area_topbar").empty().append('<div class="login-alert">'+ajaxcalls_vars.login_loading+"</div>");jQuery.ajax({type:"POST",dataType:"json",url:e,data:{action:"ajax_loginx_form_topbar",login_user:d,login_pwd:b,security:c},success:function(f){jQuery("#login_message_area_topbar").empty().append('<div class="login-alert">'+f.message+"<div>");if(f.loggedin===true){document.location.href=ajaxcalls_vars.login_redirect}else{jQuery("#login_user").val("");jQuery("#login_pwd").val("")}},error:function(f){}})}function wpestate_login_mobile(){var d,b,a,e,c;d=jQuery("#login_user_mobile").val();b=jQuery("#login_pwd_mobile").val();c=jQuery("#security-login-mobile").val();e=ajaxcalls_vars.admin_url+"admin-ajax.php";jQuery("#login_message_area_mobile").empty().append('<div class="login-alert">'+ajaxcalls_vars.login_loading+"</div>");jQuery.ajax({type:"POST",dataType:"json",url:e,data:{action:"wpestate_ajax_loginx_form_mobile",login_user:d,login_pwd:b,security:c},success:function(f){jQuery("#login_message_area_mobile").empty().append('<div class="login-alert">'+f.message+"<div>");if(f.loggedin===true){document.location.href=ajaxcalls_vars.login_redirect}else{jQuery("#login_user_mobile").val("");jQuery("#login_pwd_mobile").val("")}},error:function(f){}})}function enable_actions_modal(){jQuery("#facebooklogin").click(function(){jQuery("#cover").hide();login_via_facebook(jQuery(this))});jQuery("#googlelogin,#yahoologin").click(function(){jQuery("#cover").hide();login_via_google(jQuery(this))});jQuery("#closeadvancedlogin").click(function(){jQuery("#ajax_login_container").remove();jQuery("#cover").remove()});jQuery("#reveal_register").click(function(){jQuery("#ajax_login_div").fadeOut(400,function(){jQuery("#ajax_register_div").fadeIn()})});jQuery("#reveal_login").click(function(){jQuery("#ajax_register_div").fadeOut(400,function(){jQuery("#ajax_login_div").fadeIn()})});jQuery("#wp-login-but").click(function(){wpestate_login()});jQuery("#login_pwd, #login_user").keydown(function(a){if(a.keyCode===13){a.preventDefault();wpestate_login()}});jQuery("#wp-submit-register").click(function(){wpestate_register_user(3)});jQuery("#user_email_register, #user_login_register, #user_password, #user_password_retype").keydown(function(a){if(a.keyCode===13){a.preventDefault();wpestate_register_user(3)}})}function wpestate_login(){var d,b,c,a,e;d=jQuery("#login_user").val();b=jQuery("#login_pwd").val();c=jQuery("#security-login").val();a=jQuery("#loginpop").val();e=ajaxcalls_vars.admin_url+"admin-ajax.php";jQuery("#login_message_area").empty().append('<div class="login-alert">'+ajaxcalls_vars.login_loading+"</div>");jQuery.ajax({type:"POST",dataType:"json",url:e,data:{action:"ajax_loginx_form",login_user:d,login_pwd:b,ispop:a,"security-login":c},success:function(f){jQuery("#login_message_area").empty().append('<div class="login-alert">'+f.message+"<div>");if(f.loggedin===true){if(parseInt(f.ispop,10)===1){ajaxcalls_vars.userid=f.newuser;jQuery("#loginmodal").modal("hide");update_menu_bar(f.newuser)}else{document.location.href=ajaxcalls_vars.login_redirect}jQuery("#user_not_logged_in").hide();jQuery("#user_logged_in").show()}else{jQuery("#login_user").val("");jQuery("#login_pwd").val("")}},error:function(f){}})}function login_via_facebook(b){var a,c;c=control_vars.admin_url+"admin-ajax.php";a="facebook";jQuery.ajax({type:"POST",url:c,data:{action:"wpestate_ajax_facebook_login",login_type:a,},success:function(d){window.location.href=d},error:function(d){}})}function login_via_google(b){var c,a;c=control_vars.admin_url+"admin-ajax.php";a=b.attr("data-social");jQuery.ajax({type:"POST",url:c,data:{action:"wpestate_ajax_google_login",login_type:a},success:function(d){window.location.href=d},error:function(d){}})}function login_via_google_oauth(){var b,a;b=control_vars.admin_url+"admin-ajax.php";jQuery.ajax({type:"POST",url:b,data:{action:"wpestate_ajax_google_login_oauth"},success:function(c){window.location.href=c},error:function(c){}})}function update_menu_bar(b){var a,c;c=control_vars.admin_url+"admin-ajax.php";jQuery.ajax({type:"POST",dataType:"json",url:c,data:{action:"wpestate_update_menu_bar",newuser:b},success:function(d){jQuery("#user_menu_open").empty().append(d.menu).addClass("menulist");a='<div class="menu_user_picture" style="background-image: url('+d.picture+')"></div>';jQuery("#user_menu_u").append(a).addClass("user_loged");jQuery(".submit_action").remove()},error:function(d){}})}jQuery(document).ready(function(b){b(".disable_listing").click(function(){var h=b(this).attr("data-postid");var g=ajaxcalls_vars.admin_url+"admin-ajax.php";var f=0;if(b(this).hasClass("disabledx")){f=1;b(this).removeClass("disabledx")}else{b(this).addClass("disabledx")}var e=b(this);var d=b(this).parent().parent();b.ajax({type:"POST",url:g,data:{action:"wpestate_disable_listing",prop_id:h,},success:function(i){if(f===1){e.empty().append('<i class="fa fa-play"></i>');d.find(".user_dashboard_status").empty().append('<span class="label label-info">Disabled</span>');e.tooltip("hide").attr("data-original-title",ajaxcalls_vars.enablelisting).tooltip("fixTitle").tooltip("show")}else{e.empty().append('<i class="fa fa-pause"></i>');d.find(".user_dashboard_status").empty().append('<span class="label label-success">Published</span>');e.tooltip("hide").attr("data-original-title",ajaxcalls_vars.disablelisting).tooltip("fixTitle").tooltip("show")}},error:function(i){}})});b("#stripe_cancel").click(function(){var d,e;d=b(this).attr("data-stripeid");e=ajaxcalls_vars.admin_url+"admin-ajax.php";b("#stripe_cancel").text(ajaxcalls_vars.saving);b.ajax({type:"POST",url:e,data:{action:"wpestate_cancel_stripe",stripe_customer_id:d,},success:function(f){b("#stripe_cancel").text(ajaxcalls_vars.stripecancel)},error:function(f){}})});b(".resend_pending").click(function(){var d=b(this).attr("data-listingid");resend_for_approval(d,b(this))});b(".make_featured").click(function(){var d=b(this).attr("data-postid");make_prop_featured(d,b(this));b(this).unbind("click")});b("#pick_pack").click(function(){var d;d='<div class="modal fade" id="paypal_modal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true"><div class="modal-dialog"><div class="modal-content"><div class="modal-body listing-submit">'+ajaxcalls_vars.paypal+"</div></div></div></div></div>";jQuery("body").append(d);jQuery("#paypal_modal").modal();if(b("#pack_recuring").is(":checked")){recuring_pay_pack_via_paypal()}else{pay_pack_via_paypal()}});b(".listing_submit_normal").click(function(){var h,g,e,d,f;f='<div class="modal fade" id="paypal_modal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true"><div class="modal-dialog"><div class="modal-content"><div class="modal-body listing-submit">'+ajaxcalls_vars.paypal+"</div></div></div></div></div>";jQuery("body").append(f);jQuery("#paypal_modal").modal();h=b(this).attr("data-listingid");g=b(this).parent().find("input");e=0;d=0;if(g.prop("checked")){e=1}else{e=0}listing_pay(h,b(this),e,d)});b(".listing_upgrade").click(function(){var d,e,f;d=1;e=0;f=b(this).attr("data-listingid");listing_pay(f,b(this),e,d)});b("#facebooklogin, #facebookloginsidebar, #facebookloginsidebar_topbar,#facebookloginsidebar_mobile").click(function(){login_via_facebook(b(this))});b("#yahoologin, #aollogin,  #yahoologinsidebar, #yahoologinsidebar_topbar,#yahoologinsidebar_mobile").click(function(){login_via_google(b(this))});b("#googlelogin, #googleloginsidebar, #googleloginsidebar_topbar,#googleloginsidebar_mobile").click(function(){login_via_google_oauth()});b(".agent_submit_class").click(function(){var i,h,l,j,k,e,d,g,f;i=b(this).parent();h=i.find("#agent_contact_name").val();l=i.find("#agent_user_email").val();j=i.find("#agent_phone").val();k=i.find("#agent_comment").val();e=i.find("#agent_id").val();d=i.find("#agent_property_id").val();g=i.find("#agent_property_ajax_nonce").val();f=ajaxcalls_vars.admin_url+"admin-ajax.php";i.find("#alert-agent-contact").empty().append(ajaxcalls_vars.sending);b.ajax({type:"POST",dataType:"json",url:f,data:{action:"wpestate_ajax_agent_contact_form",name:h,email:l,phone:j,comment:k,agent_id:e,propid:d,nonce:g},success:function(m){if(m.sent){i.find("#agent_contact_name").val("");i.find("#agent_user_email").val("");i.find("#agent_phone").val("");i.find("#agent_comment").val("")}i.find("#alert-agent-contact").empty().append(m.response)},error:function(m){}})});b(".listing_filters_head li").click(function(){var e,f,d;e=b(this).text();f=b(this).attr("data-value");d=b(this).parent().parent();d.find(".filter_menu_trigger").text(e).append('<span class="caret caret_filter"></span>').attr("data-value",f);d.find("input:hidden").val(f);start_filtering(1)});b(".adv_listing_filters_head li").click(function(){var g,h,f,e,d,i;i=ajaxcalls_vars.admin_url+"admin-ajax.php";g=b(this).text();h=b(this).attr("data-value");f=b(this).parent().parent();f.find(".filter_menu_trigger").text(g).append('<span class="caret caret_filter"></span>').attr("data-value",h);e=b("#searcharg").val();d=b("#page_idx").val();b("#listing_ajax_container").empty();b("#listing_loader").show();b.ajax({type:"POST",url:i,data:{action:"wpestate_advanced_search_filters",args:e,value:h,page_id:d},success:function(j){b("#listing_loader").hide();b("#listing_ajax_container").append(j);restart_js_after_ajax();c()},error:function(j){}})});function c(){var d=b("#a_filter_order").attr("data-value");jQuery(".pagination a").each(function(){var e=b(this).attr("href");e=e+"&order_search="+d;b(this).attr("href",e)})}b(".icon-fav").click(function(e){e.stopPropagation();var d=b(this);add_remove_favorite(d)});b(".icon-fav-on-remove").click(function(d){d.stopPropagation();b(this).parent().parent().remove()});b("#add_favorites").click(function(){var e,d,f;e=b("#add_favorites").attr("data-postid");d=b("#security-pass").val();f=ajaxcalls_vars.admin_url+"admin-ajax.php";if(parseInt(ajaxcalls_vars.userid,10)===0){show_login_form()}else{b("#add_favorites").text(ajaxcalls_vars.saving);b.ajax({type:"POST",url:f,dataType:"json",data:{action:"wpestate_ajax_add_fav",post_id:e},success:function(g){if(g.added){b("#add_favorites").text(ajaxcalls_vars.favorite).removeClass("isnotfavorite").addClass("isfavorite")}else{b("#add_favorites").text(ajaxcalls_vars.add_favorite).removeClass("isfavorite").addClass("isnotfavorite")}},error:function(g){}})}});b("#wp-submit-register").click(function(){wpestate_register_user(3)});jQuery("#user_email_register, #user_login_register, #user_password, #user_password_retype").keydown(function(d){if(d.keyCode===13){d.preventDefault();wpestate_register_user(3)}});b("#wp-submit-register_wd").click(function(){wpestate_register_user(2)});b("#user_email_register_wd, #user_login_register_wd").keydown(function(d){if(d.keyCode===13){d.preventDefault();wpestate_register_user(2)}});b("#wp-submit-register_topbar").click(function(){wpestate_register_user(1)});b("#user_email_register_topbar, #user_login_register_topbar, #user_password_topbar, #user_password_topbar_retype").keydown(function(d){if(d.keyCode===13){d.preventDefault();wpestate_register_user(1)}});b("#wp-submit-register_mobile").click(function(){wpestate_register_user(5)});b("#user_email_register_mobile, #user_login_register_mobile, #user_password_mobile, #user_password_mobile_retype").keydown(function(d){if(d.keyCode===13){d.preventDefault();wpestate_register_user(5)}});b("#forgot_pass").click(function(d){d.preventDefault();b("#login-div").hide();b("#forgot-pass-div-sh").show()});b("#return_login").click(function(d){d.preventDefault();b("#forgot-pass-div-sh").hide();b("#login-div").show()});b("#forgot_pass_topbar").click(function(d){d.preventDefault();b("#login-div_topbar,#login-div-title-topbar").hide();b("#forgot-div-title-topbar,#forgot-pass-div").show()});b("#forgot_pass_mobile").click(function(d){d.preventDefault();b("#login-div_mobile,#login-div-title-mobile").hide();b("#forgot-div-title-mobile,#forgot-pass-div").show()});b("#return_login_topbar").click(function(d){d.preventDefault();b("#forgot-div-title-topbar,#forgot-pass-div").hide();b("#login-div_topbar,#login-div-title-topbar").show()});b("#return_login_mobile").click(function(d){d.preventDefault();b("#forgot-div-title-mobile,#forgot-pass-div").hide();b("#login-div_mobile,#login-div-title-mobile").show()});b("#forgot_pass_widget").click(function(d){d.preventDefault();b("#login-div-title,#login-div").hide();b("#forgot-pass-div_shortcode,#forgot-div-title_shortcode").show()});b("#return_login_shortcode").click(function(d){d.preventDefault();b("#forgot-pass-div_shortcode,#forgot-div-title_shortcode").hide();b("#login-div-title,#login-div").show()});b("#wp-forgot-but").click(function(){wpestate_forgot(1)});b("#wp-forgot-but-topbar").click(function(){wpestate_forgot(2)});b("#wp-forgot-but-mobile").click(function(){wpestate_forgot(5)});b("#wp-forgot-but_shortcode").click(function(){wpestate_forgot(3)});b("#forgot_email").keydown(function(d){if(d.keyCode===13){d.preventDefault();wpestate_forgot(1)}});b("#forgot_email_topbar").keydown(function(d){if(d.keyCode===13){d.preventDefault();wpestate_forgot(2)}});b("#forgot_email_topbar").keydown(function(d){if(d.keyCode===13){d.preventDefault();wpestate_forgot(3)}});b("#widget_register_topbar").click(function(d){d.preventDefault();b("#login-div_topbar").hide();b("#register-div-topbar").show();b("#login-div-title-topbar").hide();b("#register-div-title-topbar").show()});b("#widget_login_topbar").click(function(d){d.preventDefault();b("#login-div_topbar").show();b("#register-div-topbar").hide();b("#login-div-title-topbar").show();b("#register-div-title-topbar").hide()});b("#widget_register_mobile").click(function(d){d.preventDefault();b("#login-div_mobile").hide();b("#register-div-mobile").show();b("#login-div-title-mobile").hide();b("#register-div-title-mobile").show()});b("#widget_login_mobile").click(function(d){d.preventDefault();b("#login-div_mobile").show();b("#register-div-mobile").hide();b("#login-div-title-mobile").show();b("#register-div-title-mobile").hide()});b("#widget_register_sw").click(function(d){d.preventDefault();b(".loginwd_sidebar #login-div").hide();b(".loginwd_sidebar #register-div").show();b(".loginwd_sidebar #login-div-title").hide();b(".loginwd_sidebar #register-div-title").show()});b("#widget_login_sw").click(function(d){d.preventDefault();b(".loginwd_sidebar #register-div").hide();b(".loginwd_sidebar #login-div").show();b(".loginwd_sidebar #register-div-title").hide();b(".loginwd_sidebar #login-div-title").show()});b("#wp-login-but").click(function(){wpestate_login()});b("#login_pwd, #login_user").keydown(function(d){if(d.keyCode===13){d.preventDefault();wpestate_login()}});b("#wp-login-but-wd").click(function(){wpestate_login_wd()});b("#login_pwd_wd, #login_user_wd").keydown(function(d){if(d.keyCode===13){d.preventDefault();wpestate_login_wd()}});b("#wp-login-but-topbar").click(function(){wpestate_login_topbar()});b("#login_pwd_topbar, #login_user_topbar").keydown(function(d){if(d.keyCode===13){d.preventDefault();wpestate_login_topbar()}});b("#wp-login-but-mobile").click(function(){wpestate_login_mobile()});b("#login_pwd_mobile, #login_user_mobile").keydown(function(d){if(d.keyCode===13){d.preventDefault();wpestate_login_mobile()}});b("#oldpass, #newpass, #renewpass").keydown(function(d){if(d.keyCode===13){d.preventDefault();wpestate_change_pass_profile()}});b("#change_pass").click(function(){wpestate_change_pass_profile()});b("#update_profile").click(function(){var f,j,h,l,e,s,u,g,k,t,n,i,v,m,o,r,p,q,d;t=b("#firstname").val();n=b("#secondname").val();i=b("#useremail").val();v=b("#userphone").val();j=b("#usermobile").val();m=b("#userskype").val();o=b("#usertitle").val();r=b("#about_me").val();u=b("#userfacebook").val();s=b("#usertwitter").val();e=b("#userlinkedin").val();l=b("#userpinterest").val();h=b("#userinstagram").val();f=b("#website").val();p=ajaxcalls_vars.admin_url+"admin-ajax.php";q=b("#security-profile").val();d=b("#upload_picture").val();g=b("#profile-image").attr("data-profileurl");k=b("#profile-image").attr("data-smallprofileurl");window.scrollTo(0,0);b.ajax({type:"POST",url:p,data:{action:"wpestate_ajax_update_profile",firstname:t,secondname:n,useremail:i,userphone:v,usermobile:j,userskype:m,usertitle:o,description:r,upload_picture:d,"security-profile":q,profile_image_url:g,profile_image_url_small:k,userfacebook:u,usertwitter:s,userlinkedin:e,userpinterest:l,userinstagram:h,userurl:f},success:function(w){b("#profile_message").append('<div class="login-alert">'+w+"<div>");window.scrollTo(0,0)},error:function(w){}})});function a(d){if(d.lengthComputable){b("#profile_message").attr({value:d.loaded,max:d.total})}}});